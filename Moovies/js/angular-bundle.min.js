(function(){var n=angular.module("mooviesBoardApp",["ngRoute","angularMoment","ngFileUpload"]).filter("numberToHuman",function(){return function(n,t){return Humanize.compactInteger(n,t)}});n.config(function(n){n.when("/main",{templateUrl:"/ngViews/main.html",controller:"HomeIndexController"}).when("/result",{templateUrl:"/ngViews/result.html",controller:"HomeResultController"}).otherwise({redirectTo:"/main"})});n.factory("Result",function(){var n={};return{get:function(){return n},set:function(t){n=t}}})})(),function(){var n=angular.module("mooviesBoardApp"),t=function(n,t,i,r,u,f,e){n.$watch("files",function(){n.upload(n.files)});n.$watch("file",function(){n.file!==null&&(n.files=[n.file])});n.leaderboards=[];n.isBusy=!0;u.getLeaderboardRecords().then(function(i){t.debug(i);angular.copy(i,n.leaderboards)},function(){alert("sorry")}).then(function(){n.isBusy=!1});n.upload=function(t){var u,o;if(t&&t.length)for(u=0;u<t.length;u++)o=t[u],o.$error||f.upload({url:"/api/v1/files",data:{file:t}}).then(function(t){r(function(){n.log="file: "+t.config.data.file.name+", Response: "+JSON.stringify(t.data)+"\n"+n.log;e.set(t.data);i.path("/result")})},null,function(t){var i=parseInt(100*t.loaded/t.total);n.log="progress: "+i+"% "+t.config.data.file.name+"\n"+n.log})}};n.controller("HomeIndexController",t)}(),function(){var n="/api/v1/",t=function(t,i){var r=function(){return t.get(n+"leaderboards").then(function(n){return i.debug(n),n.data})};return{getLeaderboardRecords:r,leaderboards:[]}},i=angular.module("mooviesBoardApp");i.factory("mooviesBoardApi",t)}();